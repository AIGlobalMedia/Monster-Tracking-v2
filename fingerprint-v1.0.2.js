!function(t,e,f){"undefined"!=typeof module&&module.exports?module.exports=f():"function"==typeof define&&define.amd?define(f):e[t]=f()}("Fingerprint",this,function(){"use strict";var t=function(t){var e,f;e=Array.prototype.forEach,f=Array.prototype.map,this.each=function(t,f,n){if(null!==t){if(e&&t.forEach===e)t.forEach(f,n);else if(t.length===+t.length){for(var r=0,i=t.length;r<i;r++)if(f.call(n,t[r],r,t)==={})return}else for(var a in t)if(t.hasOwnProperty(a)&&f.call(n,t[a],a,t)==={})return}},this.map=function(t,e,n){var r=[];return null==t?r:f&&t.map===f?t.map(e,n):(this.each(t,function(t,f,i){r[r.length]=e.call(n,t,f,i)}),r)},"object"==typeof t?(this.hasher=t.hasher,this.screen_resolution=t.screen_resolution,this.screen_orientation=t.screen_orientation,this.canvas=t.canvas,this.ie_activex=t.ie_activex):"function"==typeof t&&(this.hasher=t)};return t.prototype={get:function(){var t=[];return t.push(navigator.userAgent),t.push(navigator.language),t.push(screen.colorDepth),this.screen_resolution&&void 0!==this.getScreenResolution()&&t.push(this.getScreenResolution().join("x")),(t.push(new Date().getTimezoneOffset()),t.push(this.hasSessionStorage()),t.push(this.hasLocalStorage()),t.push(!!window.indexedDB),document.body?t.push(typeof document.body.addBehavior):t.push("undefined"),t.push(typeof window.openDatabase),t.push(navigator.cpuClass),t.push(navigator.platform),t.push(navigator.doNotTrack),t.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&t.push(this.getCanvasFingerprint()),this.hasher)?this.hasher(t.join("###"),31):this.murmurhash3_32_gc(t.join("###"),31)},murmurhash3_32_gc:function(t,e){var f,n,r,i,a,o,s,h;for(f=3&t.length,n=t.length-f,r=e,a=3432918353,o=461845907,h=0;h<n;)s=255&t.charCodeAt(h)|(255&t.charCodeAt(++h))<<8|(255&t.charCodeAt(++h))<<16|(255&t.charCodeAt(++h))<<24,++h,r^=s=(65535&(s=(s=(65535&s)*a+(((s>>>16)*a&65535)<<16)&4294967295)<<15|s>>>17))*o+(((s>>>16)*o&65535)<<16)&4294967295,r=(65535&(i=(65535&(r=r<<13|r>>>19))*5+(((r>>>16)*5&65535)<<16)&4294967295))+27492+(((i>>>16)+58964&65535)<<16);switch(s=0,f){case 3:s^=(255&t.charCodeAt(h+2))<<16;case 2:s^=(255&t.charCodeAt(h+1))<<8;case 1:s^=255&t.charCodeAt(h),r^=s=(65535&(s=(s=(65535&s)*a+(((s>>>16)*a&65535)<<16)&4294967295)<<15|s>>>17))*o+(((s>>>16)*o&65535)<<16)&4294967295}return r^=t.length,r^=r>>>16,r=(65535&r)*2246822507+(((r>>>16)*2246822507&65535)<<16)&4294967295,r^=r>>>13,r=(65535&r)*3266489909+(((r>>>16)*3266489909&65535)<<16)&4294967295,(r^=r>>>16)>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(t){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(t){return!0}},isCanvasSupported:function(){var t=document.createElement("canvas");return!!(t.getContext&&t.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!!("Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent))},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(t){var e=this.map(t,function(t){return[t.type,t.suffixes].join("~")}).join(",");return[t.name,t.description,e].join("::")},this).join(";")},getIEPluginsString:function(){return window.ActiveXObject?this.map(["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"],function(t){try{return new ActiveXObject(t),t}catch(e){return null}}).join(";"):""},getScreenResolution:function(){var t;return this.screen_orientation?screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height]:[screen.height,screen.width]},getCanvasFingerprint:function(){var t=document.createElement("canvas"),e=t.getContext("2d"),f='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+-={}|[]:"<>?;,.';return e.textBaseline="top",e.font="14px 'Arial'",e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText(f,2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText(f,4,17),t.toDataURL()}},t});